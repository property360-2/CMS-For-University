{% extends "cms/base.html" %} {% load cms_tags %} {% block title %}{{ page.title
}} - MarkCMS{% endblock %} {% block head %} {{ block.super }}
<meta
  name="description"
  content="{{ page.seo_description|default:page.title }}"
/>
{% if page.seo_keywords %}
<meta name="keywords" content="{{ page.seo_keywords }}" />
{% endif %}
<meta property="og:title" content="{{ page.title }}" />
<meta
  property="og:description"
  content="{{ page.seo_description|default:page.title }}"
/>
<meta property="og:type" content="article" />
<meta
  property="article:published_time"
  content="{{ page.created_at|date:'c' }}"
/>
<meta
  property="article:modified_time"
  content="{{ page.updated_at|date:'c' }}"
/>
{% endblock %} {% block content %}
<!-- Minimalist Article Layout -->
<article class="max-w-3xl mx-auto fade-in">
  <!-- Breadcrumb - Minimal -->
  <nav class="mb-8">
    <a
      href="{% url 'page_list' %}"
      class="text-secondary hover:text-primary transition text-sm inline-flex items-center"
    >
      <svg
        class="w-4 h-4 mr-1"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M10 19l-7-7m0 0l7-7m-7 7h18"
        ></path>
      </svg>
      Back to articles
    </a>
  </nav>

  <!-- Article Header - Clean and Spacious -->
  <header class="mb-12">
    <h1
      class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight tracking-tight"
    >
      {{ page.title }}
    </h1>

    <!-- Meta Information -->
    <div class="flex flex-wrap items-center gap-4 text-secondary text-sm mb-6">
      <time datetime="{{ page.created_at|date:'c' }}" class="flex items-center">
        <svg
          class="w-4 h-4 mr-1.5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
          ></path>
        </svg>
        {{ page.created_at|date:"F d, Y" }}
      </time>

      {% if page.updated_at != page.created_at %}
      <span class="text-secondary opacity-50">â€¢</span>
      <time
        datetime="{{ page.updated_at|date:'c' }}"
        class="flex items-center opacity-75"
      >
        <svg
          class="w-4 h-4 mr-1.5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
          ></path>
        </svg>
        Updated {{ page.updated_at|date:"M d, Y" }}
      </time>
      {% endif %}
    </div>

    <!-- Tags - Minimal Pills -->
    {% if page.seo_keywords %}
    <div class="flex flex-wrap gap-2">
      {% for keyword in page.seo_keywords|split:"," %}
      <span
        class="px-3 py-1 text-xs font-medium bg-secondary text-secondary rounded-full border border-custom hover:border-opacity-50 transition"
      >
        {{ keyword }}
      </span>
      {% endfor %}
    </div>
    {% endif %}
  </header>

  <!-- Separator Line -->
  <div class="border-t border-custom mb-12"></div>

  <!-- Article Content - Typography Focused -->
  <div class="prose prose-lg max-w-none mb-16">{{ content_html|safe }}</div>

  <!-- Separator Line -->
  <div class="border-t border-custom mb-12"></div>

  <!-- Article Footer - Share & Navigation -->
  <footer class="mb-16">
    <!-- Share Section -->
    <div class="mb-8">
      <h3
        class="text-sm font-semibold text-secondary uppercase tracking-wide mb-4"
      >
        Share this article
      </h3>
      <div class="flex gap-3">
        <button
          onclick="shareOnTwitter()"
          class="flex items-center gap-2 px-4 py-2 bg-secondary hover:bg-hover border border-custom rounded-lg transition text-sm font-medium"
          title="Share on Twitter"
        >
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
            <path
              d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"
            ></path>
          </svg>
          Twitter
        </button>
        <button
          onclick="shareOnFacebook()"
          class="flex items-center gap-2 px-4 py-2 bg-secondary hover:bg-hover border border-custom rounded-lg transition text-sm font-medium"
          title="Share on Facebook"
        >
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
            <path
              d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"
            ></path>
          </svg>
          Facebook
        </button>
        <button
          onclick="copyLink()"
          class="flex items-center gap-2 px-4 py-2 bg-secondary hover:bg-hover border border-custom rounded-lg transition text-sm font-medium"
          title="Copy link"
        >
          <svg
            class="w-4 h-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
            ></path>
          </svg>
          Copy Link
        </button>
      </div>
    </div>

    <!-- Navigation -->
    <div class="flex justify-between items-center pt-8 border-t border-custom">
      <a
        href="{% url 'page_list' %}"
        class="inline-flex items-center text-sm font-medium hover:accent-color transition"
      >
        <svg
          class="w-4 h-4 mr-2"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15 19l-7-7 7-7"
          ></path>
        </svg>
        All Articles
      </a>

      <button
        onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
        class="inline-flex items-center text-sm font-medium hover:accent-color transition"
      >
        Back to Top
        <svg
          class="w-4 h-4 ml-2"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 10l7-7m0 0l7 7m-7-7v18"
          ></path>
        </svg>
      </button>
    </div>
  </footer>
</article>

<script>
  function shareOnTwitter() {
    const url = encodeURIComponent(window.location.href);
    const text = encodeURIComponent("{{ page.title }}");
    window.open(
      `https://twitter.com/intent/tweet?url=${url}&text=${text}`,
      "_blank",
      "width=550,height=420"
    );
  }

  function shareOnFacebook() {
    const url = encodeURIComponent(window.location.href);
    window.open(
      `https://www.facebook.com/sharer/sharer.php?u=${url}`,
      "_blank",
      "width=550,height=420"
    );
  }

  function copyLink() {
    navigator.clipboard.writeText(window.location.href).then(() => {
      // Show simple feedback
      const btn = event.target.closest("button");
      const originalText = btn.innerHTML;
      btn.innerHTML =
        '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Copied!';
      setTimeout(() => {
        btn.innerHTML = originalText;
      }, 2000);
    });
  }
</script>

<style>
  /* Enhanced Typography for Blog Articles */
  .prose {
    color: var(--text-primary);
    line-height: 1.75;
  }

  .prose h1 {
    font-size: 2.25rem;
    font-weight: 800;
    margin-top: 2rem;
    margin-bottom: 1.5rem;
    line-height: 1.2;
    letter-spacing: -0.025em;
  }

  .prose h2 {
    font-size: 1.875rem;
    font-weight: 700;
    margin-top: 2.5rem;
    margin-bottom: 1.25rem;
    line-height: 1.3;
    letter-spacing: -0.015em;
  }

  .prose h3 {
    font-size: 1.5rem;
    font-weight: 600;
    margin-top: 2rem;
    margin-bottom: 1rem;
    line-height: 1.4;
  }

  .prose h4 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
  }

  .prose p {
    margin-top: 1.5rem;
    margin-bottom: 1.5rem;
    font-size: 1.125rem;
    line-height: 1.8;
  }

  .prose a {
    color: var(--accent);
    text-decoration: none;
    border-bottom: 1px solid var(--accent);
    transition: all 0.2s;
  }

  .prose a:hover {
    color: var(--accent-hover);
    border-bottom-color: transparent;
  }

  .prose strong {
    font-weight: 600;
    color: var(--text-primary);
  }

  .prose em {
    font-style: italic;
  }

  .prose ul,
  .prose ol {
    margin-top: 1.5rem;
    margin-bottom: 1.5rem;
    padding-left: 1.5rem;
  }

  .prose li {
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;
    line-height: 1.75;
  }

  .prose li::marker {
    color: var(--accent);
  }

  .prose code {
    background-color: var(--bg-secondary);
    padding: 0.25rem 0.5rem;
    border-radius: 0.375rem;
    font-size: 0.875em;
    color: var(--accent);
    font-family: "Courier New", monospace;
    border: 1px solid var(--border-color);
  }

  .prose pre {
    background-color: var(--bg-secondary);
    padding: 1.5rem;
    border-radius: 0.75rem;
    overflow-x: auto;
    margin: 2rem 0;
    border: 1px solid var(--border-color);
  }

  .prose pre code {
    background: none;
    padding: 0;
    border: none;
    color: var(--text-primary);
    font-size: 0.9em;
  }

  .prose blockquote {
    border-left: 4px solid var(--accent);
    padding-left: 1.5rem;
    margin: 2rem 0;
    font-style: italic;
    color: var(--text-secondary);
    font-size: 1.125rem;
  }

  .prose img {
    border-radius: 0.75rem;
    margin: 2rem 0;
    width: 100%;
    height: auto;
  }

  .prose hr {
    border: none;
    border-top: 1px solid var(--border-color);
    margin: 3rem 0;
  }

  .prose table {
    width: 100%;
    border-collapse: collapse;
    margin: 2rem 0;
    font-size: 1rem;
  }

  .prose th {
    background-color: var(--bg-secondary);
    font-weight: 600;
    text-align: left;
    padding: 0.75rem 1rem;
    border: 1px solid var(--border-color);
  }

  .prose td {
    padding: 0.75rem 1rem;
    border: 1px solid var(--border-color);
  }

  /* First paragraph larger */
  .prose > p:first-of-type {
    font-size: 1.25rem;
    line-height: 1.7;
    color: var(--text-secondary);
  }
</style>
{% endblock %}
